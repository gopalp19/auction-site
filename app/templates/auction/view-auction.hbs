<h1 style="margin-top: 50px; margin-bottom: 30px">{{auctionName}}</h1>

<div class="panel panel-default container">
  {{#if errorMessage}}
      <div class="alert alert-danger" role="alert">
          <strong>Error! </strong> {{errorMessage}}
      </div><br>
  {{/if}}
  {{#if submitBidResponse}}
    <div class="alert alert-info">{{submitBidResponse}}</div>
  {{/if}}

    <div class="row">
      <div class="col-sm-3">
        <img src="/assets/images/placeholder.png" alt="Card image" style="display:block; margin:auto;"/>
      </div>
      <div class="col-sm-9 jumbotron" style="padding: 1rem 2rem;">
        <div class="panel-heading">Description</div>
        <div class="panel-body">{{auctionDescription}}</div>
        <div class="panel-info">Seller: {{auctionSeller}}</div>
        <div class="panel-info">Quantity: {{auction.quantity}}</div>
        <div class="panel-info">Time Left: {{countdown-string endDate=startDate startDate=auction.auctionEndTime}}</div>
      </div>
    </div>

    <div class="form-group jumbotron" style="margin-top: 2rem; margin-bottom: 0rem; padding: 1rem 2rem;">
      <h3 style="margin-top: 10px; margin-bottom: 10px">Bid Data</h3>
      <table class="table table-bordered table-hover">
        <thead class="thead-inverse">
          <tr>
            <th>Bid By</th>
            <th>Bid Amount</th>
            <th>Bid at</th>
          </tr>
        </thead>
        <tbody>
          {{#each auction.bids as |bid|}}
            <tr>
              <td>{{bid.bidUsername}}</td>
              <td>{{bid.bidAmount}}</td>
              <td>{{bid.bidDate}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
      {{#if auctionHasBid}}
          <div class="panel-info">{{link-to 'user.view-user' highBidUser}}High Bidder: {{highBidUser}}</div>
      {{else}}
          <div class="panel-info">High Bidder: {{highBidUser}}</div>
      {{/if}}
      <div class="panel-info">Current Bid Amount: {{highBidAmount}}</div>
      <form {{action "submitBid" on="submit"}}>
          <div class="form-group">
              <label class="registration-label">Bid Now:</label>
              {{textarea value=newBidAmount placeholder=highBidAmount class="form-control"}}
          </div>
          <button type="submit" class="btn btn-primary" >Submit Bid</button>
      </form>
    </div>


    {{#if auction.auctionBuyNow}}<br>
      <div class="form-group jumbotron" style="padding: 1rem 2rem;">
        <h3 style="margin-top: 10px; margin-bottom: 10px">Auction Available to Buy</h3>
        <label class="registration-label">Buy Now Price: ${{auction.auctionBuyNowPrice}}</label><br>

        <button type="submit" {{action "submitAuction"}} class="btn btn-primary">Buy Auction Item</button><br>
      </div>
    {{/if}}
</div>
